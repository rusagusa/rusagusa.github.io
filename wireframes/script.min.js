const sections=document.querySelectorAll(".section");const options={threshold:.15};const observer=new IntersectionObserver(function(entries,observer){entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("visible");observer.unobserve(entry.target)}})},options);sections.forEach(section=>{observer.observe(section)});const menuToggle=document.querySelector(".menu-toggle");const navbar=document.querySelector(".header-nav-container");menuToggle.addEventListener("click",()=>{navbar.classList.toggle("active")});let lastScrollY=window.scrollY;const headerNavContainer=document.querySelector(".header-nav-container");window.addEventListener("scroll",()=>{if(window.scrollY>lastScrollY){headerNavContainer.classList.add("scrolled")}else{headerNavContainer.classList.remove("scrolled")}lastScrollY=window.scrollY});const faqQuestions=document.querySelectorAll(".faq-question");faqQuestions.forEach(question=>{question.addEventListener("click",()=>{const answer=question.nextElementSibling;const currentMaxHeight=answer.style.maxHeight;document.querySelectorAll(".faq-answer").forEach(ans=>{if(ans!==answer){ans.style.maxHeight=null;ans.previousElementSibling.classList.remove("active")}});if(currentMaxHeight){answer.style.maxHeight=null;question.classList.remove("active")}else{answer.style.maxHeight=answer.scrollHeight+"px";question.classList.add("active")}})});document.addEventListener("DOMContentLoaded",()=>{const form=document.getElementById("appointmentForm");const formMessages=document.getElementById("form-messages");form.addEventListener("submit",event=>{event.preventDefault();const formData=new FormData(form);fetch(form.getAttribute("action"),{method:"POST",body:formData}).then(response=>response.json()).then(data=>{if(data.success){formMessages.textContent=data.message;formMessages.classList.remove("error");formMessages.classList.add("success");form.reset()}else{formMessages.textContent=data.message;formMessages.classList.remove("success");formMessages.classList.add("error")}}).catch(error=>{console.error("Error:",error);formMessages.textContent="An unexpected error occurred. Please try again.";formMessages.classList.remove("success");formMessages.classList.add("error")})})});function getUrlParameter(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const regex=new RegExp("[\\?&]"+name+"=([^&#]*)");const results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "))}window.addEventListener("DOMContentLoaded",event=>{const serviceParam=getUrlParameter("service");if(serviceParam){const serviceSelect=document.getElementById("service");if(serviceSelect){const optionToSelect=serviceSelect.querySelector(`option[value="${serviceParam}"]`);if(optionToSelect){optionToSelect.selected=true}}}});let slideIndex=1;function plusSlides(n){showSlides(slideIndex+=n)}function currentSlide(n){showSlides(slideIndex=n)}function showSlides(n){let i;let slides=document.getElementsByClassName("mySlides");let dots=document.getElementsByClassName("dot");if(n>slides.length){slideIndex=1}if(n<1){slideIndex=slides.length}for(i=0;i<slides.length;i++){slides[i].style.display="none"}for(i=0;i<dots.length;i++){dots[i].className=dots[i].className.replace(" active","")}slides[slideIndex-1].style.display="block";dots[slideIndex-1].className+=" active"}document.addEventListener("DOMContentLoaded",()=>{showSlides(slideIndex)});